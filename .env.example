# Since .env is gitignored, you can use .env.example to build a new `.env` file when you clone the repo.
# Keep this file up-to-date when you add new variables to \`.env\`.

# This file will be committed to version control, so make sure not to have any secrets in it.
# If you are cloning this repo, create a copy of this file named `.env` and populate it with your secrets.

# The database URL is used to connect to your Supabase database.
# local dev eg. : POSTGRES_URL="postgresql://postgres:@127.0.0.1:5432/vendgros-app"
POSTGRES_URL="postgresql://postgres:@127.0.0.1:5432/vendgros-app"


# You can generate the secret via 'openssl rand -base64 32' on Unix
# @see https://www.better-auth.com/docs/installation
AUTH_SECRET='supersecret'

# Cron job authorization secret for automated tasks
# Generate via 'openssl rand -base64 32' on Unix
# Used to secure endpoints called by cron services (e.g., Vercel Cron)
CRON_SECRET='your_secure_cron_secret_here'

# Stripe API keys for payment processing (5% deposit system)
# Get these from https://dashboard.stripe.com/apikeys
# For testing, use test keys (sk_test_... and pk_test_...)
STRIPE_SECRET_KEY='sk_test_your_stripe_secret_key_here'
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY='pk_test_your_stripe_publishable_key_here'
# Webhook secret for verifying Stripe webhook events
# Get this from Stripe Dashboard > Webhooks > Your endpoint > Signing secret
# For local dev, run: stripe listen --forward-to localhost:3000/api/webhooks/stripe
STRIPE_WEBHOOK_SECRET='whsec_your_webhook_secret_here'

# Twilio for SMS OTP
# Get these from https://www.twilio.com/console
TWILIO_ACCOUNT_SID='your_twilio_account_sid'
TWILIO_AUTH_TOKEN='your_twilio_auth_token'
TWILIO_FROM_NUMBER='+1234567890'

# Resend for Email Verification (OPTIONAL)
# Get this from https://resend.com/api-keys
# If provided: Users MUST verify their email before signing in
# If NOT provided: Users can sign up and sign in immediately without email verification
# For local development, you can leave this empty to skip email verification
RESEND_API_KEY=''

# Mapbox for Maps
# Get this from https://account.mapbox.com/access-tokens
NEXT_PUBLIC_MAPBOX_TOKEN=''

# OpenAI for AI Moderation
# Get this from https://platform.openai.com/api-keys
OPENAI_API_KEY=''

# DigitalOcean Spaces for image uploads (S3-compatible storage)
# Get these from https://cloud.digitalocean.com/spaces
DO_SPACES_KEY='your_do_spaces_key'
DO_SPACES_SECRET='your_do_spaces_secret'
DO_SPACES_ENDPOINT='https://your-region.digitaloceanspaces.com'
DO_SPACES_BUCKET='your-bucket-name'
DO_SPACES_REGION='your-region'
DO_SPACES_URL='https://your-bucket-name.your-region.digitaloceanspaces.com'
# Environment for storage path segregation (development, staging, production)
# Files are stored at: vendgros/{env}/listings/{userId}/{filename}
# Falls back to VERCEL_ENV if not set, then 'development'
DO_SPACES_ENV='development'
# Public URL for client-side image display (same as DO_SPACES_URL, or a custom CDN domain)
# This is required for the frontend to construct full image URLs from relative paths
NEXT_PUBLIC_STORAGE_URL='https://your-bucket-name.your-region.digitaloceanspaces.com'

NEXT_PUBLIC_RESERVATION_PAYMENT_TIMEOUT_MINUTES = 20

# Minimum quantity required when creating a listing (defaults to 5)
# Both variables should have the same value - API uses MIN_LISTING_QUANTITY, frontend uses NEXT_PUBLIC_
MIN_LISTING_QUANTITY=5
NEXT_PUBLIC_MIN_LISTING_QUANTITY=5

# Maintenance mode (show offline page until session unlock)
MAINTENANCE_MODE=false

# Upstash Redis for rate limiting and caching (serverless-optimized)
# Get these from https://console.upstash.com/ -> Create Database -> REST API
# Uses HTTP instead of TCP - no connection overhead on cold starts
UPSTASH_REDIS_REST_URL=''
UPSTASH_REDIS_REST_TOKEN=''

# Headless CMS (WordPress REST API)
# URL of your WordPress installation
# Used for static pages: privacy-policy, terms-of-service, about, careers, help, safety, fees, contact, cookies
NEXT_PUBLIC_CMS_URL='https://cms.vendgros.ca'
# ISR revalidation interval in seconds (default: 3600 = 1 hour)
NEXT_PUBLIC_CMS_REVALIDATE_SECONDS=3600
# Secret for on-demand CMS cache revalidation API (/api/revalidate)
# Generate via 'openssl rand -base64 32' on Unix
CMS_REVALIDATE_SECRET='6hDcN2HfSO5zUIFKFTpfZbgf'